<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/Blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/Blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/Blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/Blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/Blog/css/main.css">


<link rel="stylesheet" href="/Blog/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"maboloshi.github.io","root":"/Blog/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"hide","offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"default"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"disqus","storage":true,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="春">
<meta property="og:url" content="https://maboloshi.github.io/Blog/index.html">
<meta property="og:site_name" content="春">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="沙漠之子">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://maboloshi.github.io/Blog/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>春</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/Blog/atom.xml" title="春" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/Blog/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">春</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/Blog/" rel="section"><i class="home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/Blog/tags/" rel="section"><i class="tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/Blog/categories/" rel="section"><i class="th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/Blog/archives/" rel="section"><i class="archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://maboloshi.github.io/Blog/posts/25284/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="沙漠之子">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="春">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/posts/25284/" class="post-title-link" itemprop="url">使用 `BCFG` 命令管理 UEFI 启动菜单</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-31 08:27:52" itemprop="dateCreated datePublished" datetime="2020-08-31T08:27:52+08:00">2020-08-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-02-07 14:26:04" itemprop="dateModified" datetime="2022-02-07T14:26:04+08:00">2022-02-07</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="使用-bcfg-命令管理-uefi-启动菜单"><a class="markdownIt-Anchor" href="#使用-bcfg-命令管理-uefi-启动菜单"></a> 使用 <code>BCFG</code> 命令管理 UEFI 启动菜单</h2>
<p>用于修改 UEFI NVRAM 条目，它能让用户改变启动条目或驱动器选项。 详见：“<a target="_blank" rel="noopener" href="http://www.uefi.org/sites/default/files/resources/UEFI_Shell_Spec_2_0.pdf">UEFI Shell Specification 2.0</a>” PDF 文档的83页 (Section 5.3)命令介绍。</p>
<ol>
<li>查看当前启动条目:</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Shell&gt; bcfg boot dump -v</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>为 Clover (作为例子) 添加一个启动菜单条目，并在 UEFI 启动菜单里设置为第1个 (<strong>从0开始计数</strong>) 选项:</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Shell&gt; bcfg boot add 0 fs0:\EFI\CLOVER\CLOVERX64.efi <span class="string">&quot;Clover OS X Boot&quot;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>fs0:</code> 映射到 EFI 系统分区，<code>\EFI\CLOVER\CLOVERX64.efi</code> 是要启动的文件。 配合<code>map</code>和<code>ls</code>命令 确定路径。</p>
</blockquote>
<ol start="3">
<li>删除第4个启动选项:</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Shell&gt; bcfg boot rm 3</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>把第3个启动选项移动到第0 (也就是说第1个是 UEFI 启动菜单的默认启动选项):</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Shell&gt; bcfg boot mv 3 0</span><br></pre></td></tr></table></figure>
<ol start="5">
<li><code>bcfg</code>命令帮助文档:</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Shell&gt; <span class="built_in">help</span> bcfg -v -b</span><br></pre></td></tr></table></figure>
<p>或</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Shell&gt; bcfg -? -v -b</span><br></pre></td></tr></table></figure>
<h3 id="参考文献"><a class="markdownIt-Anchor" href="#参考文献"></a> 参考文献:</h3>
<ul>
<li><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Unified_Extensible_Firmware_Interface_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#bcfg">Archlinux:Unified_Extensible_Firmware_Interface#bcfg</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://maboloshi.github.io/Blog/posts/49311/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="沙漠之子">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="春">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/posts/49311/" class="post-title-link" itemprop="url">macOS下 给aria2 RPC添加一个下载通知</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-02-14 19:07:36" itemprop="dateCreated datePublished" datetime="2020-02-14T19:07:36+08:00">2020-02-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-02-07 14:26:04" itemprop="dateModified" datetime="2022-02-07T14:26:04+08:00">2022-02-07</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>aria2 RPC 自带许多事件<a target="_blank" rel="noopener" href="https://aria2.github.io/manual/en/html/aria2c.html#event-hook">Hook</a>机制，其中就有下载完成的事件 hook。</p>
<blockquote>
<p>aria2 provides options to specify arbitrary command after specific event occurred. Currently following options are available: <code>--on-bt-download-complete</code>, <code>--on-download-pause</code>, <code>--on-download-complete</code>. <code>--on-download-start</code>, <code>--on-download-error</code>, <code>--on-download-stop</code>.</p>
</blockquote>
<h2 id="创建-hook-脚本"><a class="markdownIt-Anchor" href="#创建-hook-脚本"></a> 创建 hook 脚本</h2>
<blockquote>
<p>参考:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://aria2.github.io/manual/en/html/aria2c.html#event-hook">aria2 event-hook</a></li>
<li><a target="_blank" rel="noopener" href="https://code-maven.com/display-notification-from-the-mac-command-line">Display notification from the Mac command line</a></li>
<li><a target="_blank" rel="noopener" href="https://www.zixi.org/archives/notification_on_macos.html">在mac命令行执行显示通知</a></li>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/a/17243326/7488424">Pass in variable from shell script to applescript</a></li>
</ul>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.aria2/</span><br><span class="line">touch download-complete-hook.sh</span><br><span class="line">chmod +x download-complete-hook.sh</span><br></pre></td></tr></table></figure>
<p>脚本内容添加如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line">fname=`basename <span class="variable">$3</span>`</span><br><span class="line">osascript &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">display notification &quot;$fname 已经下载完成！&quot; with title &quot;【下载完成】&quot;</span></span><br><span class="line"><span class="string">say &quot;有个文件下载完成，请查收！&quot;</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure>
<p>最终效果：当下载完成会在屏幕右上角弹出一个提示框显示具体下载完成的文件名，同时中文语音播报：“有个文件下载完成，请查收！”</p>
<p><img src="https://user-images.githubusercontent.com/7850715/74525348-cc159f80-4f18-11ea-84bd-56be79bf3b0a.png" alt="macOS 下aria2 提示框实例" /></p>
<ul>
<li>具体提示框设置可参考上面的教程。不支持设置自定义图标</li>
<li>关于<code>$3</code>参数<a target="_blank" rel="noopener" href="https://aria2.github.io/manual/en/html/aria2c.html#event-hook">详见</a></li>
</ul>
<blockquote>
<p>aria2 passes 3 arguments to specified command when it is executed. These arguments are: GID, the number of files and file path. For HTTP, FTP, and SFTP downloads, usually the number of files is 1. BitTorrent download can contain multiple files. If number of files is more than one, file path is first one. In other words, this is the value of path key of first struct whose selected key is true in the response of aria2.getFiles() RPC method. If you want to get all file paths, consider to use JSON-RPC/XML-RPC. Please note that file path may change during download in HTTP because of redirection or Content-Disposition header.</p>
</blockquote>
<h2 id="添加-hook-设置"><a class="markdownIt-Anchor" href="#添加-hook-设置"></a> 添加 Hook 设置</h2>
<p>在 aria2 设置文件<code>.aria2.conf</code>加入如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># BT下载完成(如有做种将包含做种，如需调用请务必确定设定完成做种条件)</span></span><br><span class="line">on-bt-download-complete=<span class="variable">$&#123;HOME&#125;</span>/.aria2/download-complete-hook.sh</span><br><span class="line"><span class="comment"># 下载完成</span></span><br><span class="line">on-download-complete=<span class="variable">$&#123;HOME&#125;</span>/.aria2/download-complete-hook.sh</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://maboloshi.github.io/Blog/posts/49934/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="沙漠之子">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="春">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/posts/49934/" class="post-title-link" itemprop="url">使用aria2下载视频文件</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-02-12 20:00:13" itemprop="dateCreated datePublished" datetime="2020-02-12T20:00:13+08:00">2020-02-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-02-07 14:26:04" itemprop="dateModified" datetime="2022-02-07T14:26:04+08:00">2022-02-07</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>某些网站的视频文件即使获取了下载链接也是无法使用第三方工具下载，主要原因是服务器端需对<code>Cookie</code>或者<code>referer</code>等验证，故使用第三方下载工具时需要提交该信息。</p>
<h2 id="工具"><a class="markdownIt-Anchor" href="#工具"></a> 工具</h2>
<ul>
<li>chrome浏览器</li>
<li>aria2</li>
<li>AriaNG: 一个aria2 web UI</li>
</ul>
<h2 id="视频文件类型"><a class="markdownIt-Anchor" href="#视频文件类型"></a> 视频文件类型</h2>
<p>一般使用 HTML5 技术在线加载的视频，有 2 种加载形式：</p>
<ul>
<li>单独文件加载：单独的一个完整视频文件（后缀名一般为<code>*.mp4</code>)</li>
<li>多片段文件加载：一般使用后缀名为<code>*.m3u8</code> 的列表文件，分别按进度依次载入数个加密或未加密的<code>*.ts</code>文件</li>
</ul>
<h2 id="如何获取下载链接及验证信息"><a class="markdownIt-Anchor" href="#如何获取下载链接及验证信息"></a> 如何获取下载链接及验证信息</h2>
<p>浏览器打开视频页面，按下F12进入开发者工具，刷新页面，可以在<code>network</code>标签页看到访问的元素请求。在<code>Fiter 筛选栏</code>输入关键词如<code>mp4</code>或<code>m3u8</code></p>
<p>以<code>*.m3u8</code>列表文件为例</p>
<h3 id="获取下载链接"><a class="markdownIt-Anchor" href="#获取下载链接"></a> 获取下载链接</h3>
<p>在左侧找到目标文件，鼠标选中，在右侧详情栏<code>General</code>–&gt;<code>Request URL</code>便是下载链接。复制链接备用，对于 m3u8列表文件，右键<code>转到</code>直接通过浏览器下载备用。<br />
<img src="https://user-images.githubusercontent.com/7850715/74332438-9c865c00-4d8d-11ea-998f-65ed6d71e799.png" alt="获取下载链接" /></p>
<h3 id="获取request-headers参数"><a class="markdownIt-Anchor" href="#获取request-headers参数"></a> 获取<code>Request Headers</code>参数</h3>
<p>找到<code>Request Headers</code>部分，即可看到有<code>Referer</code>、<code>User-Agent</code>、<code>Cookie</code>等数据，一般只需复制以上 3 个数据即可（<code>Referer</code>和<code>Cookie</code>可能不会同时存在，<code>User-Agent</code>一般推荐使用）复制备用。如果<code>Cookie</code>信息比较大可以单独保存为一个文件，如<code>cookie.txt</code>。<br />
<img src="https://user-images.githubusercontent.com/7850715/74332429-998b6b80-4d8d-11ea-80ae-807bbcac1c42.png" alt="获取RequestHeaders 参数" /></p>
<h3 id="获取ts文件下载链接"><a class="markdownIt-Anchor" href="#获取ts文件下载链接"></a> 获取ts文件下载链接</h3>
<p>使用文本编辑器打开<code>m3u8列表文件</code>，删除<code>#</code>开头的行, 并补全<code>ts文件</code>下载链接复制备用，也可另存为列表文件**<code>list.txt</code><strong>，原<code>m3u8列表文件</code>在后续的文件解密合并时还需用到，也可重命名为</strong><code>index.m3u8</code>**。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#EXTM3U</span><br><span class="line">#EXT-X-VERSION:3</span><br><span class="line">#EXT-X-MEDIA-SEQUENCE:0</span><br><span class="line">#EXT-X-ALLOW-CACHE:YES</span><br><span class="line">#EXT-X-TARGETDURATION:18</span><br><span class="line">#EXT-X-KEY:METHOD=QINIU-PROTECTION-10,IV=0x613694b311fb436b16f58b8c8f741ca2</span><br><span class="line">#EXTINF:16.733333,</span><br><span class="line">/5t2z9mIR2ZKG20c7w5PeHsrDNjA=/lqn2o_WGxPIjDV_idXAR9c-q6DFM/000000.ts</span><br><span class="line">#EXT-X-KEY:METHOD=QINIU-PROTECTION-10,IV=0x005825f743583155e78af94c6c364190</span><br><span class="line">#EXTINF:3.666667,</span><br><span class="line">/5t2z9mIR2ZKG20c7w5PeHsrDNjA=/lqn2o_WGxPIjDV_idXAR9c-q6DFM/000001.ts</span><br><span class="line">#EXT-X-KEY:METHOD=QINIU-PROTECTION-10,IV=0xb8941ace1e79b5c0acf7d81ec3924226</span><br><span class="line">#EXTINF:17.866667,</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br></pre></td></tr></table></figure>
<p>补全整理后</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://xxxx/xxxx/5t2z9mIR2ZKG20c7w5PeHsrDNjA=/lqn2o_WGxPIjDV_idXAR9c-q6DFM/000000.ts</span><br><span class="line">https://xxxx/xxxx/5t2z9mIR2ZKG20c7w5PeHsrDNjA=/lqn2o_WGxPIjDV_idXAR9c-q6DFM/000001.ts</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<blockquote>
<p>列表文件中存在类似信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#EXT-X-KEY:METHOD=AES-128,URI=&quot;https://.....&quot;</span><br></pre></td></tr></table></figure>
<p>则ts 文件的密钥文件为这个<code>URI</code>链接的文件中，如果后续使用 <code>ffmpeg</code>命令进行解密时能自动获取则不需要下载，否则请提前下载并将<code>URI</code>内容改成本地密钥文件路径</p>
</blockquote>
<h2 id="使用-aria2c-命令行下载"><a class="markdownIt-Anchor" href="#使用-aria2c-命令行下载"></a> 使用 Aria2c 命令行下载</h2>
<p>命令参数格式如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aria2c -c -s10 -k1M -x16 --enable-rpc=<span class="literal">false</span> -o <span class="string">&#x27;要保存的文件名&#x27;</span> --user-agent=<span class="string">&quot;&lt;User-Agent内容&gt;&quot;</span> --referer=<span class="string">&quot;&lt;访问来源&gt;&quot;</span> <span class="string">&quot;文件的下载地址(支持多个链接)&quot;</span></span><br></pre></td></tr></table></figure>
<p>或</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aria2c -c -s10 -k1M -x16 --enable-rpc=<span class="literal">false</span> -o <span class="string">&#x27;要保存的文件名&#x27;</span> --user-agent=<span class="string">&quot;&lt;User-Agent内容&gt;&quot;</span>  --header=<span class="string">&quot;Cookie: &lt;你的cookie内容&gt;&quot;</span> <span class="string">&quot;文件的下载地址(支持多个链接)&quot;</span></span><br></pre></td></tr></table></figure>
<p>替换如上命令里的<code>要保存的文件名</code>、<code>&lt;User-Agent内容&gt;</code> <code>&lt;访问来源&gt;</code>、<code>你的cookie内容</code>、<code>文件的下载地址</code>即可。</p>
<p>提示：</p>
<ol>
<li>对于同时下载多个文件，可以使用<code>--dir &quot;下载路径&quot;</code>代替 <code>-o '要保存的文件名'</code>。</li>
<li>对于同时下载多个文件，可以指定包含多个文件下载链接的列表文件，如之前的**<code>list.txt</code>**。使用<code>--input-file=list.txt</code>代替<code>&quot;文件的下载地址(支持多个链接)&quot;</code>。</li>
<li>对于同时下载多个文件且下载链接存在规则性，也可使用<code>-Z -P http://host/XXXX[000-100].ts</code>代替<code>&quot;文件的下载地址(支持多个链接)&quot;</code>。详见：<a target="_blank" rel="noopener" href="https://aria2.github.io/manual/en/html/aria2c.html#cmdoption-parameterized-uri">aria2c:参数化 URI</a></li>
<li>对于使用 cookie 文件可使用<code>--load-cookies=&lt;cookie 文件&gt;</code>代替<code>--header=&quot;Cookie: &lt;你的cookie内容&gt;&quot;</code>。</li>
</ol>
<h2 id="使用-ariang-下载"><a class="markdownIt-Anchor" href="#使用-ariang-下载"></a> 使用 AriaNG 下载</h2>
<p>打在AriaNG管理页面–&gt;Aria2设置–&gt; HTTP 设置<br />
自定义 User Agent(user-agent)设置为：<code>&lt;User-Agent内容&gt;</code>。</p>
<p>新建 --&gt; 黏贴下载链接 --&gt; 选项 --&gt; 勾选 Http</p>
<ul>
<li>请求来源(referer)设置为：<code>&lt;访问来源&gt;</code></li>
<li>自定义请求头(header)设置为：<code>Cookie: &lt;你的cookie内容&gt;</code>。注意：此处**Cookie:**字样也需要填入。</li>
</ul>
<h2 id="附ffmpeg解码m3u8合并解密ts到mp4"><a class="markdownIt-Anchor" href="#附ffmpeg解码m3u8合并解密ts到mp4"></a> 附:FFmpeg解码M3U8合并解密TS到MP4</h2>
<blockquote>
<p>参考：<a target="_blank" rel="noopener" href="https://luluit.top/archives/2070.html">https://luluit.top/archives/2070.html</a></p>
</blockquote>
<h3 id="ffmpeg安装"><a class="markdownIt-Anchor" href="#ffmpeg安装"></a> FFmpeg安装</h3>
<p>macOS/Win 下可以去<a target="_blank" rel="noopener" href="https://ffmpeg.zeranoe.com/builds/">这里</a>下载单文件版。当然macOS也可以使用<code>brew</code>安装(依赖包较多)。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install ffmpeg</span><br></pre></td></tr></table></figure>
<h3 id="解密合并"><a class="markdownIt-Anchor" href="#解密合并"></a> 解密合并</h3>
<p>将 m3u8 列表文件（如：index.m3u8）、离线密钥和 ts 文件放在同一目录下，使用<code>ffmpeg</code>命令进行解密合并成单个 mp4文件：</p>
<p>一般情况：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i index.m3u8 -c copy XXXX.MP4</span><br></pre></td></tr></table></figure>
<p>对于使用在线密钥时：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -allowed_extensions ALL -protocol_whitelist https,tls,tcp,file,crypto -i index.m3u8 -c copy XXXX.MP4</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://maboloshi.github.io/Blog/posts/35722/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="沙漠之子">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="春">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/posts/35722/" class="post-title-link" itemprop="url">GitHub Actions自动部署Hexo博客</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-02-08 16:40:37" itemprop="dateCreated datePublished" datetime="2020-02-08T16:40:37+08:00">2020-02-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-02-07 14:26:04" itemprop="dateModified" datetime="2022-02-07T14:26:04+08:00">2022-02-07</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>以前使用 Travis CI 自动部署Hexo博客，但是，Travis CI 免费账户的速度不算太快。这次，使用 Github 自带的Actions功能，实现自动部署。实测后部署速度的确更快。</p>
<blockquote>
<p>GitHub Actions 由 GitHub 官方推出的工作流工具。典型的应用场景应该是 CI/CD，类似 Travis 的用法。</p>
</blockquote>
<h2 id="项目背景"><a class="markdownIt-Anchor" href="#项目背景"></a> 项目背景</h2>
<p>我的博客源码和静态文件存放在一个 github 项目中的两个独立分支。</p>
<table>
<thead>
<tr>
<th style="text-align:center">分支</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">hexo</td>
<td style="text-align:left">原始数据及配置</td>
</tr>
<tr>
<td style="text-align:center">master</td>
<td style="text-align:left">静态页面</td>
</tr>
</tbody>
</table>
<h2 id="项目设置"><a class="markdownIt-Anchor" href="#项目设置"></a> 项目设置</h2>
<h3 id="生成密钥对"><a class="markdownIt-Anchor" href="#生成密钥对"></a> 生成密钥对</h3>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096 -C <span class="string">&quot;your_email@example.com&quot;</span> -N <span class="string">&quot;&quot;</span> -f deploy_key</span><br></pre></td></tr></table></figure>
<p>会生成 <code>deploy_key</code>私钥 和 <code>deploy_key.pub</code>公钥两个文件。</p>
<h3 id="添加公钥"><a class="markdownIt-Anchor" href="#添加公钥"></a> 添加公钥</h3>
<p>项目页 --&gt; <code>Settings</code> --&gt; <code>Deploy keys</code> --&gt; <code>Add deploy key</code></p>
<p>将<code>deploy_key.pub</code>公钥内容复制上去，勾选：Allow write access</p>
<h3 id="添加加密环境变量"><a class="markdownIt-Anchor" href="#添加加密环境变量"></a> 添加加密环境变量</h3>
<p>项目页 --&gt; <code>Settings</code> --&gt; <code>Secrets</code> --&gt; <code>Add a new secret</code></p>
<blockquote>
<p>环境变量名可以任意命名，但要和Actions里的设定$对应</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center">环境变量</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">DEPLOY_KEY</td>
<td style="text-align:left">发布key 私钥，<code>deploy_key</code>私钥文件内容</td>
</tr>
<tr>
<td style="text-align:center">EMAIL</td>
<td style="text-align:left">发布用户邮箱账号</td>
</tr>
<tr>
<td style="text-align:center">NAME</td>
<td style="text-align:left">发布用户名</td>
</tr>
</tbody>
</table>
<h3 id="修改_configyml"><a class="markdownIt-Anchor" href="#修改_configyml"></a> 修改<code>_config.yml</code></h3>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@github.com:maboloshi/Blog.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br><span class="line">  <span class="attr">message:</span> <span class="string">&quot;Github CI Auto Builder at <span class="template-variable">&#123;&#123; now(&#x27;YYYY-MM-DD HH:mm:ss Z&#x27;) &#125;&#125;</span>&quot;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>repo</code>链接必须使用 ssh 格式</p>
</blockquote>
<h2 id="编写-action-脚本"><a class="markdownIt-Anchor" href="#编写-action-脚本"></a> 编写 Action 脚本</h2>
<blockquote>
<p>此处使用<a target="_blank" rel="noopener" href="https://github.com/yrpang/github-actions-hexo">成熟方案</a></p>
</blockquote>
<p>在根目录下创建 <code>GitHub Actions workflow</code> 文件，<code>.github/workflows/hexo.yml</code></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Hexo</span> <span class="string">CICD</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span> <span class="comment"># 监视 `hexo`分支</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">      <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">hexo</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">if:</span> <span class="string">&quot;!contains(github.event.head_commit.message, &#x27;[ci skip]&#x27;)&quot;</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v1</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">submodules:</span> <span class="literal">true</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Cache</span> <span class="string">node</span> <span class="string">modules</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/cache@v1</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">node_modules</span></span><br><span class="line">          <span class="attr">key:</span> <span class="string">$&#123;&#123;runner.OS&#125;&#125;-$&#123;&#123;hashFiles(&#x27;**/package-lock.json&#x27;)&#125;&#125;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">yrpang/github-actions-hexo@master</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">deploykey:</span> <span class="string">$&#123;&#123;secrets.DEPLOY_KEY&#125;&#125;</span></span><br><span class="line">          <span class="attr">username:</span> <span class="string">$&#123;&#123;secrets.NAME&#125;&#125;</span></span><br><span class="line">          <span class="attr">email:</span> <span class="string">$&#123;&#123;secrets.EMAIL&#125;&#125;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意:</p>
<ol>
<li>根目录下<code>.gitignore</code>中需要移除<code>package-lock.json</code></li>
<li>静态页面是强制推送，覆盖历史数据</li>
</ol>
</blockquote>
<h2 id="小结"><a class="markdownIt-Anchor" href="#小结"></a> 小结</h2>
<p><code>GitHub Actions</code>将自动监视<code>hexo</code>分支，并对任何除带<code>[ci skip]</code>的 push 触发执行。</p>
<h2 id="参考"><a class="markdownIt-Anchor" href="#参考"></a> 参考</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/yrpang/github-actions-hexo">https://github.com/yrpang/github-actions-hexo</a></li>
<li><a target="_blank" rel="noopener" href="https://hdj.me/github-actions-hexo-cicd/">https://hdj.me/github-actions-hexo-cicd/</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://maboloshi.github.io/Blog/posts/53428/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="沙漠之子">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="春">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/posts/53428/" class="post-title-link" itemprop="url">Download a single file from a private GitHub repo</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-02 18:28:19" itemprop="dateCreated datePublished" datetime="2019-11-02T18:28:19+08:00">2019-11-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-02-07 14:26:04" itemprop="dateModified" datetime="2022-02-07T14:26:04+08:00">2022-02-07</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="relying-on-basic-authentication"><a class="markdownIt-Anchor" href="#relying-on-basic-authentication"></a> Relying on basic authentication</h3>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#依靠基本身份验证从github企业获取原始内容的单一代码。</span></span><br><span class="line"><span class="comment">#无需创建访问令牌并将其合并到url中。</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#填空：</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#USER              您用于验证的登录用户名（将在终端上提示您输入密码）</span></span><br><span class="line"><span class="comment">#GHE_DOMAIN github 企业自定义域</span></span><br><span class="line"><span class="comment">#REPO_OWNER        拥有存储库的用户/组织</span></span><br><span class="line"><span class="comment">#REPO_NAME         资料库的名称</span></span><br><span class="line"><span class="comment">#REF               git ref，例如分支或提交（大多数情况下，您可能希望使用“ master”）</span></span><br><span class="line"><span class="comment">#FILE              要获取的文件的路径，包括文件扩展名。 也用作本地创建文件的名称</span></span><br><span class="line"><span class="comment">#OAUTH-TOKEN      二步验证码</span></span><br><span class="line"></span><br><span class="line">curl -u <span class="string">&quot;<span class="variable">$&#123;USER&#125;</span>&quot;</span> -O https://<span class="variable">$&#123;GHE_DOMAIN&#125;</span>/raw/<span class="variable">$&#123;REPO_OWNER&#125;</span>/<span class="variable">$&#123;REPO_NAME&#125;</span>/<span class="variable">$&#123;REF&#125;</span>/<span class="variable">$&#123;FILE&#125;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>参考：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://gist.github.com/madrobby/9476733">Download a single file from a private GitHub repo</a></li>
</ul>
</blockquote>
<h4 id="accessing-github-using-two-factor-authentication"><a class="markdownIt-Anchor" href="#accessing-github-using-two-factor-authentication"></a> Accessing GitHub using two-factor authentication</h4>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -u <span class="string">&quot;<span class="variable">$&#123;USER&#125;</span>&quot;</span> -H <span class="string">&quot;X-GitHub-OTP: <span class="variable">$&#123;OTPCODE&#125;</span>&quot;</span> -O https://<span class="variable">$&#123;GHE_DOMAIN&#125;</span>/raw/<span class="variable">$&#123;REPO_OWNER&#125;</span>/<span class="variable">$&#123;REPO_NAME&#125;</span>/<span class="variable">$&#123;REF&#125;</span>/<span class="variable">$&#123;FILE&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="relying-on-oauth2-token-authentication"><a class="markdownIt-Anchor" href="#relying-on-oauth2-token-authentication"></a> Relying on OAuth2 token authentication</h3>
<p>You’ll need an access token as described in this GitHub Help article: <a target="_blank" rel="noopener" href="https://help.github.com/articles/creating-an-access-token-for-command-line-use">https://help.github.com/articles/creating-an-access-token-for-command-line-use</a></p>
<h4 id="作为url中的参数明文传输"><a class="markdownIt-Anchor" href="#作为url中的参数明文传输"></a> 作为<code>url</code>中的参数明文传输</h4>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -O https://<span class="variable">$&#123;OAUTH-TOKEN&#125;</span>@<span class="variable">$&#123;GHE_DOMAIN&#125;</span>/raw/<span class="variable">$&#123;REPO_OWNER&#125;</span>/<span class="variable">$&#123;REPO_NAME&#125;</span>/<span class="variable">$&#123;REF&#125;</span>/<span class="variable">$&#123;FILE&#125;</span></span><br></pre></td></tr></table></figure>
<h4 id="作为header中的参数传输"><a class="markdownIt-Anchor" href="#作为header中的参数传输"></a> 作为<code>header</code>中的参数传输</h4>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -H <span class="string">&quot;Authorization: token <span class="variable">$&#123;OAUTH-TOKEN&#125;</span>&quot;</span> -O https://<span class="variable">$&#123;GHE_DOMAIN&#125;</span>/raw/<span class="variable">$&#123;REPO_OWNER&#125;</span>/<span class="variable">$&#123;REPO_NAME&#125;</span>/<span class="variable">$&#123;REF&#125;</span>/<span class="variable">$&#123;FILE&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="relying-on-ssh-certificate-authentication"><a class="markdownIt-Anchor" href="#relying-on-ssh-certificate-authentication"></a> Relying on SSH certificate authentication</h3>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp [-i identity_file] <span class="variable">$&#123;USER&#125;</span>@<span class="variable">$&#123;GHE_DOMAIN&#125;</span>:<span class="variable">$&#123;REPO_OWNER&#125;</span>/<span class="variable">$&#123;REPO_NAME&#125;</span>.git/<span class="variable">$&#123;REF&#125;</span>/<span class="variable">$&#123;FILE&#125;</span>  /path/to/<span class="built_in">local</span>/file</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>identity_file</code>: 验证私钥文件</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://maboloshi.github.io/Blog/posts/4588/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="沙漠之子">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="春">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/posts/4588/" class="post-title-link" itemprop="url">设置 sublime 侧边栏字体大小</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-10-27 21:49:05" itemprop="dateCreated datePublished" datetime="2019-10-27T21:49:05+08:00">2019-10-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-02-07 14:26:04" itemprop="dateModified" datetime="2022-02-07T14:26:04+08:00">2022-02-07</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ol>
<li>
<p>确认当前使用的主题<br />
首选项 &gt; 设置 &gt; &quot;theme&quot;值, 比如<code>Adaptive.sublime-theme</code></p>
</li>
<li>
<p>在用户设置目录(<code>插件目录/User</code>)下创建同名文件<code>Adaptive.sublime-theme</code></p>
</li>
</ol>
<blockquote>
<p>原理:自定义设置覆盖默认设置</p>
</blockquote>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;rules&quot;</span>:</span><br><span class="line">    [</span><br><span class="line">        &#123;   <span class="comment">//侧边栏字体大小</span></span><br><span class="line">            <span class="attr">&quot;class&quot;</span>: <span class="string">&quot;sidebar_label&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;font.size&quot;</span>: <span class="number">14</span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="comment">//        &#123;   //侧边栏行间距</span></span><br><span class="line"><span class="comment">//            &quot;class&quot;: &quot;sidebar_tree&quot;,</span></span><br><span class="line"><span class="comment">//            &quot;row_padding&quot;: [16, 3, 4, 3],</span></span><br><span class="line"><span class="comment">//        &#125;,</span></span><br><span class="line"><span class="comment">//        &#123;   //修改文档标题字体大小</span></span><br><span class="line"><span class="comment">//            &quot;class&quot;: &quot;tab_label&quot;,</span></span><br><span class="line"><span class="comment">//            &quot;font.size&quot;: 14</span></span><br><span class="line"><span class="comment">//        &#125;,</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>更多设置，可参考原主题文件</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">沙漠之子</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/Blog/archives/">
        
          <span class="site-state-item-count">6</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/Blog/tags/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/maboloshi" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;maboloshi" rel="noopener" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/Blog/atom.xml" title="RSS → &#x2F;atom.xml"><i class="rss fa-fw"></i>RSS</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">沙漠之子</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/Blog/lib/anime.min.js"></script>
  <script src="/Blog/lib/velocity/velocity.min.js"></script>
  <script src="/Blog/lib/velocity/velocity.ui.min.js"></script>

<script src="/Blog/js/utils.js"></script>

<script src="/Blog/js/motion.js"></script>


<script src="/Blog/js/schemes/pisces.js"></script>


<script src="/Blog/js/next-boot.js"></script>




  















  

  

  

</body>
</html>
